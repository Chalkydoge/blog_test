---
title: tea-1226
date: 2022-12-29 13:37:34
tags:
---

<!--more-->

# 12.27 ABC 270F
每一个节点有以下三种选择
1. 在该节点 建造港口 $X$
2. 在该节点 建造机场 $Y$
3. 在指定两节点间 建造一条公路 $(x, y)$ 代价为$z$

处理1,2两种情况 => 建立超级汇点, 让节点与这个虚拟节点连边, 最后两个节点相连 <=> 引入超级节点后这两个节点相连 (通过3直接连接, 或者是通过两次操作1进行连接)

最后考虑使用情况: 1, 2, 12, 不使用12这4种情况都需要考虑, 每一次执行一次至多$2N+M$条边的最小生成树算法, 因此时间复杂度是ok的。


# 12.28 ABC 268F

邻项交换(假设相邻两项 $P_i$, $P_{i+1}$)
$P_i$ 有$X_i$个X, 数字总和为$Y_i$
$P_{i+1}$ 有$X_{i+1}$个$X$, 数字总和为 $Y_{i+1}$
那么$P_i$放在$P_{i+1}$前面, score = $X_i \times Y_{i+1}$ + ($P_i$内部分数) + ($P_{i+1}$内部的分数) 

如果$P_{i+1}$放在$P_i$前面, score = $X_{i+1} \times Y_i$ + ($P_i$内部分数) + ($P_{i+1}$内部的分数) 

那么交换更优秀 => $X_i \times Y_{i+1} < X_{i+1} \times Y_i$

所以按照这个顺序排序后得到的结果就是最优秀的，我们按照这个顺序排序并一次求解即可。复杂度就是这一次排序，注意不要爆int了


# 12.29 ABC 269F

树上两点之间的距离查询问题
- 给定一颗树和树上的一点u, 问与u距离值为k的点有哪些?


和树的直径有什么关系?
- 直径端点L和R对应的距离是树上所有点对之间最大的。
- 只有在范围内部的才有可能存在

因此 只需要考虑从直径的端点出发的路径组成, 就能找到这些节点的距离为k的答案节点(因为直径路径是树上最长的路)


为什么需要从两个端点都走一次?
- 因为存在一些点, 当我们第一次遍历到的时候, 发现路径长度小于深度k(因此没有答案节点)
- 但是从另一侧过来就可以满足答案要求的, 所以需要从直径两端各自遍历一次.
